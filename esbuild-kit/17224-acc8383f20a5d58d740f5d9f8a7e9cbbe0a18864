{"code":"(()=>{\n\"use strict\";var __defProp=Object.defineProperty;var __name=(target,value)=>__defProp(target,\"name\",{value,configurable:true});Object.defineProperty(exports,\"__esModule\",{value:true});const fsScandir=require(\"@nodelib/fs.scandir\");const common=require(\"./common\");const reader_1=require(\"./reader\");class SyncReader extends reader_1.default{constructor(){super(...arguments);this._scandir=fsScandir.scandirSync;this._storage=[];this._queue=new Set}read(){this._pushToQueue(this._root,this._settings.basePath);this._handleQueue();return this._storage}_pushToQueue(directory,base){this._queue.add({directory,base})}_handleQueue(){for(const item of this._queue.values()){this._handleDirectory(item.directory,item.base)}}_handleDirectory(directory,base){try{const entries=this._scandir(directory,this._settings.fsScandirSettings);for(const entry of entries){this._handleEntry(entry,base)}}catch(error){this._handleError(error)}}_handleError(error){if(!common.isFatalError(this._settings,error)){return}throw error}_handleEntry(entry,base){const fullpath=entry.path;if(base!==void 0){entry.path=common.joinPathSegments(base,entry.name,this._settings.pathSegmentSeparator)}if(common.isAppliedFilter(this._settings.entryFilter,entry)){this._pushToStorage(entry)}if(entry.dirent.isDirectory()&&common.isAppliedFilter(this._settings.deepFilter,entry)){this._pushToQueue(fullpath,base===void 0?void 0:entry.path)}}_pushToStorage(entry){this._storage.push(entry)}}__name(SyncReader,\"SyncReader\");exports.default=SyncReader;\n})()\n","warnings":[],"map":{"version":3,"mappings":";+HACA,OAAO,eAAe,QAAS,aAAc,CAAE,MAAO,IAAK,CAAC,EAC5D,MAAM,UAAY,QAAQ,qBAAqB,EAC/C,MAAM,OAAS,QAAQ,UAAU,EACjC,MAAM,SAAW,QAAQ,UAAU,EACnC,MAAM,mBAAmB,SAAS,OAAQ,CACtC,aAAc,CACV,MAAM,GAAG,SAAS,EAClB,KAAK,SAAW,UAAU,YAC1B,KAAK,SAAW,CAAC,EACjB,KAAK,OAAS,IAAI,GACtB,CACA,MAAO,CACH,KAAK,aAAa,KAAK,MAAO,KAAK,UAAU,QAAQ,EACrD,KAAK,aAAa,EAClB,OAAO,KAAK,QAChB,CACA,aAAa,UAAW,KAAM,CAC1B,KAAK,OAAO,IAAI,CAAE,UAAW,IAAK,CAAC,CACvC,CACA,cAAe,CACX,UAAW,QAAQ,KAAK,OAAO,OAAO,EAAG,CACrC,KAAK,iBAAiB,KAAK,UAAW,KAAK,IAAI,CACnD,CACJ,CACA,iBAAiB,UAAW,KAAM,CAC9B,GAAI,CACA,MAAM,QAAU,KAAK,SAAS,UAAW,KAAK,UAAU,iBAAiB,EACzE,UAAW,SAAS,QAAS,CACzB,KAAK,aAAa,MAAO,IAAI,CACjC,CACJ,OACO,MAAP,CACI,KAAK,aAAa,KAAK,CAC3B,CACJ,CACA,aAAa,MAAO,CAChB,GAAI,CAAC,OAAO,aAAa,KAAK,UAAW,KAAK,EAAG,CAC7C,MACJ,CACA,MAAM,KACV,CACA,aAAa,MAAO,KAAM,CACtB,MAAM,SAAW,MAAM,KACvB,GAAI,OAAS,OAAW,CACpB,MAAM,KAAO,OAAO,iBAAiB,KAAM,MAAM,KAAM,KAAK,UAAU,oBAAoB,CAC9F,CACA,GAAI,OAAO,gBAAgB,KAAK,UAAU,YAAa,KAAK,EAAG,CAC3D,KAAK,eAAe,KAAK,CAC7B,CACA,GAAI,MAAM,OAAO,YAAY,GAAK,OAAO,gBAAgB,KAAK,UAAU,WAAY,KAAK,EAAG,CACxF,KAAK,aAAa,SAAU,OAAS,OAAY,OAAY,MAAM,IAAI,CAC3E,CACJ,CACA,eAAe,MAAO,CAClB,KAAK,SAAS,KAAK,KAAK,CAC5B,CACJ,CApDM,gCAqDN,QAAQ,QAAU","names":[],"sources":["/root/projects/zachw-i/packages/plugin/node_modules/.pnpm/@nodelib+fs.walk@1.2.8/node_modules/@nodelib/fs.walk/out/readers/sync.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst fsScandir = require(\"@nodelib/fs.scandir\");\nconst common = require(\"./common\");\nconst reader_1 = require(\"./reader\");\nclass SyncReader extends reader_1.default {\n    constructor() {\n        super(...arguments);\n        this._scandir = fsScandir.scandirSync;\n        this._storage = [];\n        this._queue = new Set();\n    }\n    read() {\n        this._pushToQueue(this._root, this._settings.basePath);\n        this._handleQueue();\n        return this._storage;\n    }\n    _pushToQueue(directory, base) {\n        this._queue.add({ directory, base });\n    }\n    _handleQueue() {\n        for (const item of this._queue.values()) {\n            this._handleDirectory(item.directory, item.base);\n        }\n    }\n    _handleDirectory(directory, base) {\n        try {\n            const entries = this._scandir(directory, this._settings.fsScandirSettings);\n            for (const entry of entries) {\n                this._handleEntry(entry, base);\n            }\n        }\n        catch (error) {\n            this._handleError(error);\n        }\n    }\n    _handleError(error) {\n        if (!common.isFatalError(this._settings, error)) {\n            return;\n        }\n        throw error;\n    }\n    _handleEntry(entry, base) {\n        const fullpath = entry.path;\n        if (base !== undefined) {\n            entry.path = common.joinPathSegments(base, entry.name, this._settings.pathSegmentSeparator);\n        }\n        if (common.isAppliedFilter(this._settings.entryFilter, entry)) {\n            this._pushToStorage(entry);\n        }\n        if (entry.dirent.isDirectory() && common.isAppliedFilter(this._settings.deepFilter, entry)) {\n            this._pushToQueue(fullpath, base === undefined ? undefined : entry.path);\n        }\n    }\n    _pushToStorage(entry) {\n        this._storage.push(entry);\n    }\n}\nexports.default = SyncReader;\n"]}}