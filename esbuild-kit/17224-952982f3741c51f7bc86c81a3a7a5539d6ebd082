{"code":"(()=>{\n\"use strict\";var __defProp=Object.defineProperty;var __name=(target,value)=>__defProp(target,\"name\",{value,configurable:true});Object.defineProperty(exports,\"__esModule\",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}__name(_interopRequireDefault,\"_interopRequireDefault\");var _tokenizer=require(\"../parser/tokenizer\");var _Transformer=require(\"./Transformer\");var _Transformer2=_interopRequireDefault(_Transformer);class ReactHotLoaderTransformer extends _Transformer2.default{__init(){this.extractedDefaultExportName=null}constructor(tokens,filePath){super();this.tokens=tokens;this.filePath=filePath;ReactHotLoaderTransformer.prototype.__init.call(this);;}setExtractedDefaultExportName(extractedDefaultExportName){this.extractedDefaultExportName=extractedDefaultExportName}getPrefixCode(){return`\n      (function () {\n        var enterModule = require('react-hot-loader').enterModule;\n        enterModule && enterModule(module);\n      })();`.replace(/\\s+/g,\" \").trim()}getSuffixCode(){const topLevelNames=new Set;for(const token of this.tokens.tokens){if(!token.isType&&_tokenizer.isTopLevelDeclaration.call(void 0,token)&&token.identifierRole!==_tokenizer.IdentifierRole.ImportDeclaration){topLevelNames.add(this.tokens.identifierNameForToken(token))}}const namesToRegister=Array.from(topLevelNames).map(name=>({variableName:name,uniqueLocalName:name}));if(this.extractedDefaultExportName){namesToRegister.push({variableName:this.extractedDefaultExportName,uniqueLocalName:\"default\"})}return`\n;(function () {\n  var reactHotLoader = require('react-hot-loader').default;\n  var leaveModule = require('react-hot-loader').leaveModule;\n  if (!reactHotLoader) {\n    return;\n  }\n${namesToRegister.map(({variableName,uniqueLocalName})=>`  reactHotLoader.register(${variableName}, \"${uniqueLocalName}\", ${JSON.stringify(this.filePath||\"\")});`).join(\"\\n\")}\n  leaveModule(module);\n})();`}process(){return false}}__name(ReactHotLoaderTransformer,\"ReactHotLoaderTransformer\");exports.default=ReactHotLoaderTransformer;\n})()\n","warnings":[],"map":{"version":3,"mappings":";+HAAa,OAAO,eAAe,QAAS,aAAc,CAAC,MAAO,IAAI,CAAC,EAAG,SAAS,uBAAuB,IAAK,CAAE,OAAO,KAAO,IAAI,WAAa,IAAM,CAAE,QAAS,GAAI,CAAG,CAArF,wDAAsF,IAAI,WAAa,QAAQ,qBAAqB,EAEvN,IAAI,aAAe,QAAQ,eAAe,EAAG,IAAI,cAAgB,uBAAuB,YAAY,EAEnG,MAAM,kCAAkC,cAAc,OAAQ,CAC5D,QAAS,CAAC,KAAK,2BAA6B,IAAI,CAEjD,YAAa,OAAS,SAAU,CAC9B,MAAM,EAAE,KAAK,OAAS,OAAO,KAAK,SAAW,SAAS,0BAA0B,UAAU,OAAO,KAAK,IAAI,EAAE,CAC9G,CAEA,8BAA8B,2BAA4B,CACxD,KAAK,2BAA6B,0BACpC,CAEA,eAAgB,CACd,MAAO;AAAA;AAAA;AAAA;AAAA,aAKJ,QAAQ,OAAQ,GAAG,EACnB,KAAK,CACV,CAEA,eAAgB,CACd,MAAM,cAAgB,IAAI,IAC1B,UAAW,SAAS,KAAK,OAAO,OAAQ,CACtC,GACE,CAAC,MAAM,QACP,WAAW,sBAAsB,KAAK,OAAQ,KAAK,GACnD,MAAM,iBAAmB,WAAW,eAAe,kBACnD,CACA,cAAc,IAAI,KAAK,OAAO,uBAAuB,KAAK,CAAC,CAC7D,CACF,CACA,MAAM,gBAAkB,MAAM,KAAK,aAAa,EAAE,IAAK,OAAU,CAC/D,aAAc,KACd,gBAAiB,IACnB,EAAE,EACF,GAAI,KAAK,2BAA4B,CACnC,gBAAgB,KAAK,CACnB,aAAc,KAAK,2BACnB,gBAAiB,SACnB,CAAC,CACH,CACA,MAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOT,gBACC,IACC,CAAC,CAAC,aAAc,eAAe,IAC7B,6BAA6B,kBAAkB,qBAAqB,KAAK,UACvE,KAAK,UAAY,EACnB,KACJ,EACC,KAAK,IAAI;AAAA;AAAA,MAGV,CAEA,SAAU,CACR,MAAO,MACT,CACF,CAhEO,8DAgEL,QAAQ,QAAU","names":[],"sources":["/root/projects/zachw-i/packages/plugin/node_modules/.pnpm/sucrase@3.32.0/node_modules/sucrase/dist/transformers/ReactHotLoaderTransformer.js"],"sourcesContent":["\"use strict\";Object.defineProperty(exports, \"__esModule\", {value: true}); function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }var _tokenizer = require('../parser/tokenizer');\n\nvar _Transformer = require('./Transformer'); var _Transformer2 = _interopRequireDefault(_Transformer);\n\n class ReactHotLoaderTransformer extends _Transformer2.default {\n   __init() {this.extractedDefaultExportName = null}\n\n  constructor( tokens,  filePath) {\n    super();this.tokens = tokens;this.filePath = filePath;ReactHotLoaderTransformer.prototype.__init.call(this);;\n  }\n\n  setExtractedDefaultExportName(extractedDefaultExportName) {\n    this.extractedDefaultExportName = extractedDefaultExportName;\n  }\n\n  getPrefixCode() {\n    return `\n      (function () {\n        var enterModule = require('react-hot-loader').enterModule;\n        enterModule && enterModule(module);\n      })();`\n      .replace(/\\s+/g, \" \")\n      .trim();\n  }\n\n  getSuffixCode() {\n    const topLevelNames = new Set();\n    for (const token of this.tokens.tokens) {\n      if (\n        !token.isType &&\n        _tokenizer.isTopLevelDeclaration.call(void 0, token) &&\n        token.identifierRole !== _tokenizer.IdentifierRole.ImportDeclaration\n      ) {\n        topLevelNames.add(this.tokens.identifierNameForToken(token));\n      }\n    }\n    const namesToRegister = Array.from(topLevelNames).map((name) => ({\n      variableName: name,\n      uniqueLocalName: name,\n    }));\n    if (this.extractedDefaultExportName) {\n      namesToRegister.push({\n        variableName: this.extractedDefaultExportName,\n        uniqueLocalName: \"default\",\n      });\n    }\n    return `\n;(function () {\n  var reactHotLoader = require('react-hot-loader').default;\n  var leaveModule = require('react-hot-loader').leaveModule;\n  if (!reactHotLoader) {\n    return;\n  }\n${namesToRegister\n  .map(\n    ({variableName, uniqueLocalName}) =>\n      `  reactHotLoader.register(${variableName}, \"${uniqueLocalName}\", ${JSON.stringify(\n        this.filePath || \"\",\n      )});`,\n  )\n  .join(\"\\n\")}\n  leaveModule(module);\n})();`;\n  }\n\n  process() {\n    return false;\n  }\n} exports.default = ReactHotLoaderTransformer;\n"]}}