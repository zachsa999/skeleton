{"code":"(()=>{\n\"use strict\";var __defProp=Object.defineProperty;var __name=(target,value)=>__defProp(target,\"name\",{value,configurable:true});let{SourceMapConsumer,SourceMapGenerator}=require(\"source-map-js\");let{fileURLToPath,pathToFileURL}=require(\"url\");let{resolve,isAbsolute}=require(\"path\");let{nanoid}=require(\"nanoid/non-secure\");let terminalHighlight=require(\"./terminal-highlight\");let CssSyntaxError=require(\"./css-syntax-error\");let PreviousMap=require(\"./previous-map\");let fromOffsetCache=Symbol(\"fromOffsetCache\");let sourceMapAvailable=Boolean(SourceMapConsumer&&SourceMapGenerator);let pathAvailable=Boolean(resolve&&isAbsolute);class Input{constructor(css,opts={}){if(css===null||typeof css===\"undefined\"||typeof css===\"object\"&&!css.toString){throw new Error(`PostCSS received ${css} instead of CSS string`)}this.css=css.toString();if(this.css[0]===\"\\uFEFF\"||this.css[0]===\"\\uFFFE\"){this.hasBOM=true;this.css=this.css.slice(1)}else{this.hasBOM=false}if(opts.from){if(!pathAvailable||/^\\w+:\\/\\//.test(opts.from)||isAbsolute(opts.from)){this.file=opts.from}else{this.file=resolve(opts.from)}}if(pathAvailable&&sourceMapAvailable){let map=new PreviousMap(this.css,opts);if(map.text){this.map=map;let file=map.consumer().file;if(!this.file&&file)this.file=this.mapResolve(file)}}if(!this.file){this.id=\"<input css \"+nanoid(6)+\">\"}if(this.map)this.map.file=this.from}fromOffset(offset){let lastLine,lineToIndex;if(!this[fromOffsetCache]){let lines=this.css.split(\"\\n\");lineToIndex=new Array(lines.length);let prevIndex=0;for(let i=0,l=lines.length;i<l;i++){lineToIndex[i]=prevIndex;prevIndex+=lines[i].length+1}this[fromOffsetCache]=lineToIndex}else{lineToIndex=this[fromOffsetCache]}lastLine=lineToIndex[lineToIndex.length-1];let min=0;if(offset>=lastLine){min=lineToIndex.length-1}else{let max=lineToIndex.length-2;let mid;while(min<max){mid=min+(max-min>>1);if(offset<lineToIndex[mid]){max=mid-1}else if(offset>=lineToIndex[mid+1]){min=mid+1}else{min=mid;break}}}return{line:min+1,col:offset-lineToIndex[min]+1}}error(message,line,column,opts={}){let result,endLine,endColumn;if(line&&typeof line===\"object\"){let start=line;let end=column;if(typeof start.offset===\"number\"){let pos=this.fromOffset(start.offset);line=pos.line;column=pos.col}else{line=start.line;column=start.column}if(typeof end.offset===\"number\"){let pos=this.fromOffset(end.offset);endLine=pos.line;endColumn=pos.col}else{endLine=end.line;endColumn=end.column}}else if(!column){let pos=this.fromOffset(line);line=pos.line;column=pos.col}let origin=this.origin(line,column,endLine,endColumn);if(origin){result=new CssSyntaxError(message,origin.endLine===void 0?origin.line:{line:origin.line,column:origin.column},origin.endLine===void 0?origin.column:{line:origin.endLine,column:origin.endColumn},origin.source,origin.file,opts.plugin)}else{result=new CssSyntaxError(message,endLine===void 0?line:{line,column},endLine===void 0?column:{line:endLine,column:endColumn},this.css,this.file,opts.plugin)}result.input={line,column,endLine,endColumn,source:this.css};if(this.file){if(pathToFileURL){result.input.url=pathToFileURL(this.file).toString()}result.input.file=this.file}return result}origin(line,column,endLine,endColumn){if(!this.map)return false;let consumer=this.map.consumer();let from=consumer.originalPositionFor({line,column});if(!from.source)return false;let to;if(typeof endLine===\"number\"){to=consumer.originalPositionFor({line:endLine,column:endColumn})}let fromUrl;if(isAbsolute(from.source)){fromUrl=pathToFileURL(from.source)}else{fromUrl=new URL(from.source,this.map.consumer().sourceRoot||pathToFileURL(this.map.mapFile))}let result={url:fromUrl.toString(),line:from.line,column:from.column,endLine:to&&to.line,endColumn:to&&to.column};if(fromUrl.protocol===\"file:\"){if(fileURLToPath){result.file=fileURLToPath(fromUrl)}else{throw new Error(`file: protocol is not available in this PostCSS build`)}}let source=consumer.sourceContentFor(from.source);if(source)result.source=source;return result}mapResolve(file){if(/^\\w+:\\/\\//.test(file)){return file}return resolve(this.map.consumer().sourceRoot||this.map.root||\".\",file)}get from(){return this.file||this.id}toJSON(){let json={};for(let name of[\"hasBOM\",\"css\",\"file\",\"id\"]){if(this[name]!=null){json[name]=this[name]}}if(this.map){json.map={...this.map};if(json.map.consumerCache){json.map.consumerCache=void 0}}return json}}__name(Input,\"Input\");module.exports=Input;Input.default=Input;if(terminalHighlight&&terminalHighlight.registerInput){terminalHighlight.registerInput(Input)}\n})()\n","warnings":[],"map":{"version":3,"mappings":"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","names":[],"sources":["/root/projects/zachw-i/packages/plugin/node_modules/.pnpm/postcss@8.4.24/node_modules/postcss/lib/input.js"],"sourcesContent":["'use strict'\n\nlet { SourceMapConsumer, SourceMapGenerator } = require('source-map-js')\nlet { fileURLToPath, pathToFileURL } = require('url')\nlet { resolve, isAbsolute } = require('path')\nlet { nanoid } = require('nanoid/non-secure')\n\nlet terminalHighlight = require('./terminal-highlight')\nlet CssSyntaxError = require('./css-syntax-error')\nlet PreviousMap = require('./previous-map')\n\nlet fromOffsetCache = Symbol('fromOffsetCache')\n\nlet sourceMapAvailable = Boolean(SourceMapConsumer && SourceMapGenerator)\nlet pathAvailable = Boolean(resolve && isAbsolute)\n\nclass Input {\n  constructor(css, opts = {}) {\n    if (\n      css === null ||\n      typeof css === 'undefined' ||\n      (typeof css === 'object' && !css.toString)\n    ) {\n      throw new Error(`PostCSS received ${css} instead of CSS string`)\n    }\n\n    this.css = css.toString()\n\n    if (this.css[0] === '\\uFEFF' || this.css[0] === '\\uFFFE') {\n      this.hasBOM = true\n      this.css = this.css.slice(1)\n    } else {\n      this.hasBOM = false\n    }\n\n    if (opts.from) {\n      if (\n        !pathAvailable ||\n        /^\\w+:\\/\\//.test(opts.from) ||\n        isAbsolute(opts.from)\n      ) {\n        this.file = opts.from\n      } else {\n        this.file = resolve(opts.from)\n      }\n    }\n\n    if (pathAvailable && sourceMapAvailable) {\n      let map = new PreviousMap(this.css, opts)\n      if (map.text) {\n        this.map = map\n        let file = map.consumer().file\n        if (!this.file && file) this.file = this.mapResolve(file)\n      }\n    }\n\n    if (!this.file) {\n      this.id = '<input css ' + nanoid(6) + '>'\n    }\n    if (this.map) this.map.file = this.from\n  }\n\n  fromOffset(offset) {\n    let lastLine, lineToIndex\n    if (!this[fromOffsetCache]) {\n      let lines = this.css.split('\\n')\n      lineToIndex = new Array(lines.length)\n      let prevIndex = 0\n\n      for (let i = 0, l = lines.length; i < l; i++) {\n        lineToIndex[i] = prevIndex\n        prevIndex += lines[i].length + 1\n      }\n\n      this[fromOffsetCache] = lineToIndex\n    } else {\n      lineToIndex = this[fromOffsetCache]\n    }\n    lastLine = lineToIndex[lineToIndex.length - 1]\n\n    let min = 0\n    if (offset >= lastLine) {\n      min = lineToIndex.length - 1\n    } else {\n      let max = lineToIndex.length - 2\n      let mid\n      while (min < max) {\n        mid = min + ((max - min) >> 1)\n        if (offset < lineToIndex[mid]) {\n          max = mid - 1\n        } else if (offset >= lineToIndex[mid + 1]) {\n          min = mid + 1\n        } else {\n          min = mid\n          break\n        }\n      }\n    }\n    return {\n      line: min + 1,\n      col: offset - lineToIndex[min] + 1\n    }\n  }\n\n  error(message, line, column, opts = {}) {\n    let result, endLine, endColumn\n\n    if (line && typeof line === 'object') {\n      let start = line\n      let end = column\n      if (typeof start.offset === 'number') {\n        let pos = this.fromOffset(start.offset)\n        line = pos.line\n        column = pos.col\n      } else {\n        line = start.line\n        column = start.column\n      }\n      if (typeof end.offset === 'number') {\n        let pos = this.fromOffset(end.offset)\n        endLine = pos.line\n        endColumn = pos.col\n      } else {\n        endLine = end.line\n        endColumn = end.column\n      }\n    } else if (!column) {\n      let pos = this.fromOffset(line)\n      line = pos.line\n      column = pos.col\n    }\n\n    let origin = this.origin(line, column, endLine, endColumn)\n    if (origin) {\n      result = new CssSyntaxError(\n        message,\n        origin.endLine === undefined\n          ? origin.line\n          : { line: origin.line, column: origin.column },\n        origin.endLine === undefined\n          ? origin.column\n          : { line: origin.endLine, column: origin.endColumn },\n        origin.source,\n        origin.file,\n        opts.plugin\n      )\n    } else {\n      result = new CssSyntaxError(\n        message,\n        endLine === undefined ? line : { line, column },\n        endLine === undefined ? column : { line: endLine, column: endColumn },\n        this.css,\n        this.file,\n        opts.plugin\n      )\n    }\n\n    result.input = { line, column, endLine, endColumn, source: this.css }\n    if (this.file) {\n      if (pathToFileURL) {\n        result.input.url = pathToFileURL(this.file).toString()\n      }\n      result.input.file = this.file\n    }\n\n    return result\n  }\n\n  origin(line, column, endLine, endColumn) {\n    if (!this.map) return false\n    let consumer = this.map.consumer()\n\n    let from = consumer.originalPositionFor({ line, column })\n    if (!from.source) return false\n\n    let to\n    if (typeof endLine === 'number') {\n      to = consumer.originalPositionFor({ line: endLine, column: endColumn })\n    }\n\n    let fromUrl\n\n    if (isAbsolute(from.source)) {\n      fromUrl = pathToFileURL(from.source)\n    } else {\n      fromUrl = new URL(\n        from.source,\n        this.map.consumer().sourceRoot || pathToFileURL(this.map.mapFile)\n      )\n    }\n\n    let result = {\n      url: fromUrl.toString(),\n      line: from.line,\n      column: from.column,\n      endLine: to && to.line,\n      endColumn: to && to.column\n    }\n\n    if (fromUrl.protocol === 'file:') {\n      if (fileURLToPath) {\n        result.file = fileURLToPath(fromUrl)\n      } else {\n        /* c8 ignore next 2 */\n        throw new Error(`file: protocol is not available in this PostCSS build`)\n      }\n    }\n\n    let source = consumer.sourceContentFor(from.source)\n    if (source) result.source = source\n\n    return result\n  }\n\n  mapResolve(file) {\n    if (/^\\w+:\\/\\//.test(file)) {\n      return file\n    }\n    return resolve(this.map.consumer().sourceRoot || this.map.root || '.', file)\n  }\n\n  get from() {\n    return this.file || this.id\n  }\n\n  toJSON() {\n    let json = {}\n    for (let name of ['hasBOM', 'css', 'file', 'id']) {\n      if (this[name] != null) {\n        json[name] = this[name]\n      }\n    }\n    if (this.map) {\n      json.map = { ...this.map }\n      if (json.map.consumerCache) {\n        json.map.consumerCache = undefined\n      }\n    }\n    return json\n  }\n}\n\nmodule.exports = Input\nInput.default = Input\n\nif (terminalHighlight && terminalHighlight.registerInput) {\n  terminalHighlight.registerInput(Input)\n}\n"]}}