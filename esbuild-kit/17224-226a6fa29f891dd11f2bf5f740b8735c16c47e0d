{"code":"(()=>{\nvar __defProp=Object.defineProperty;var __name=(target,value)=>__defProp(target,\"name\",{value,configurable:true});var fs=require(\"fs\");var getHomedir=require(\"./homedir\");var path=require(\"path\");var caller=require(\"./caller\");var nodeModulesPaths=require(\"./node-modules-paths\");var normalizeOptions=require(\"./normalize-options\");var isCore=require(\"is-core-module\");var realpathFS=process.platform!==\"win32\"&&fs.realpath&&typeof fs.realpath.native===\"function\"?fs.realpath.native:fs.realpath;var homedir=getHomedir();var defaultPaths=__name(function(){return[path.join(homedir,\".node_modules\"),path.join(homedir,\".node_libraries\")]},\"defaultPaths\");var defaultIsFile=__name(function isFile(file,cb){fs.stat(file,function(err,stat){if(!err){return cb(null,stat.isFile()||stat.isFIFO())}if(err.code===\"ENOENT\"||err.code===\"ENOTDIR\")return cb(null,false);return cb(err)})},\"isFile\");var defaultIsDir=__name(function isDirectory(dir,cb){fs.stat(dir,function(err,stat){if(!err){return cb(null,stat.isDirectory())}if(err.code===\"ENOENT\"||err.code===\"ENOTDIR\")return cb(null,false);return cb(err)})},\"isDirectory\");var defaultRealpath=__name(function realpath(x,cb){realpathFS(x,function(realpathErr,realPath){if(realpathErr&&realpathErr.code!==\"ENOENT\")cb(realpathErr);else cb(null,realpathErr?x:realPath)})},\"realpath\");var maybeRealpath=__name(function maybeRealpath2(realpath2,x,opts,cb){if(opts&&opts.preserveSymlinks===false){realpath2(x,cb)}else{cb(null,x)}},\"maybeRealpath\");var defaultReadPackage=__name(function defaultReadPackage2(readFile,pkgfile,cb){readFile(pkgfile,function(readFileErr,body){if(readFileErr)cb(readFileErr);else{try{var pkg=JSON.parse(body);cb(null,pkg)}catch(jsonErr){cb(null)}}})},\"defaultReadPackage\");var getPackageCandidates=__name(function getPackageCandidates2(x,start,opts){var dirs=nodeModulesPaths(start,opts,x);for(var i=0;i<dirs.length;i++){dirs[i]=path.join(dirs[i],x)}return dirs},\"getPackageCandidates\");module.exports=__name(function resolve(x,options,callback){var cb=callback;var opts=options;if(typeof options===\"function\"){cb=opts;opts={}}if(typeof x!==\"string\"){var err=new TypeError(\"Path must be a string.\");return process.nextTick(function(){cb(err)})}opts=normalizeOptions(x,opts);var isFile2=opts.isFile||defaultIsFile;var isDirectory2=opts.isDirectory||defaultIsDir;var readFile=opts.readFile||fs.readFile;var realpath2=opts.realpath||defaultRealpath;var readPackage=opts.readPackage||defaultReadPackage;if(opts.readFile&&opts.readPackage){var conflictErr=new TypeError(\"`readFile` and `readPackage` are mutually exclusive.\");return process.nextTick(function(){cb(conflictErr)})}var packageIterator=opts.packageIterator;var extensions=opts.extensions||[\".js\"];var includeCoreModules=opts.includeCoreModules!==false;var basedir=opts.basedir||path.dirname(caller());var parent=opts.filename||basedir;opts.paths=opts.paths||defaultPaths();var absoluteStart=path.resolve(basedir);maybeRealpath(realpath2,absoluteStart,opts,function(err2,realStart){if(err2)cb(err2);else init(realStart)});var res;function init(basedir2){if(/^(?:\\.\\.?(?:\\/|$)|\\/|([A-Za-z]:)?[/\\\\])/.test(x)){res=path.resolve(basedir2,x);if(x===\".\"||x===\"..\"||x.slice(-1)===\"/\")res+=\"/\";if(/\\/$/.test(x)&&res===basedir2){loadAsDirectory(res,opts.package,onfile)}else loadAsFile(res,opts.package,onfile)}else if(includeCoreModules&&isCore(x)){return cb(null,x)}else loadNodeModules(x,basedir2,function(err2,n,pkg){if(err2)cb(err2);else if(n){return maybeRealpath(realpath2,n,opts,function(err3,realN){if(err3){cb(err3)}else{cb(null,realN,pkg)}})}else{var moduleError=new Error(\"Cannot find module '\"+x+\"' from '\"+parent+\"'\");moduleError.code=\"MODULE_NOT_FOUND\";cb(moduleError)}})}__name(init,\"init\");function onfile(err2,m,pkg){if(err2)cb(err2);else if(m)cb(null,m,pkg);else loadAsDirectory(res,function(err3,d,pkg2){if(err3)cb(err3);else if(d){maybeRealpath(realpath2,d,opts,function(err4,realD){if(err4){cb(err4)}else{cb(null,realD,pkg2)}})}else{var moduleError=new Error(\"Cannot find module '\"+x+\"' from '\"+parent+\"'\");moduleError.code=\"MODULE_NOT_FOUND\";cb(moduleError)}})}__name(onfile,\"onfile\");function loadAsFile(x2,thePackage,callback2){var loadAsFilePackage=thePackage;var cb2=callback2;if(typeof loadAsFilePackage===\"function\"){cb2=loadAsFilePackage;loadAsFilePackage=void 0}var exts=[\"\"].concat(extensions);load(exts,x2,loadAsFilePackage);function load(exts2,x3,loadPackage){if(exts2.length===0)return cb2(null,void 0,loadPackage);var file=x3+exts2[0];var pkg=loadPackage;if(pkg)onpkg(null,pkg);else loadpkg(path.dirname(file),onpkg);function onpkg(err2,pkg_,dir){pkg=pkg_;if(err2)return cb2(err2);if(dir&&pkg&&opts.pathFilter){var rfile=path.relative(dir,file);var rel=rfile.slice(0,rfile.length-exts2[0].length);var r=opts.pathFilter(pkg,x3,rel);if(r)return load([\"\"].concat(extensions.slice()),path.resolve(dir,r),pkg)}isFile2(file,onex)}__name(onpkg,\"onpkg\");function onex(err2,ex){if(err2)return cb2(err2);if(ex)return cb2(null,file,pkg);load(exts2.slice(1),x3,pkg)}__name(onex,\"onex\")}__name(load,\"load\")}__name(loadAsFile,\"loadAsFile\");function loadpkg(dir,cb2){if(dir===\"\"||dir===\"/\")return cb2(null);if(process.platform===\"win32\"&&/^\\w:[/\\\\]*$/.test(dir)){return cb2(null)}if(/[/\\\\]node_modules[/\\\\]*$/.test(dir))return cb2(null);maybeRealpath(realpath2,dir,opts,function(unwrapErr,pkgdir){if(unwrapErr)return loadpkg(path.dirname(dir),cb2);var pkgfile=path.join(pkgdir,\"package.json\");isFile2(pkgfile,function(err2,ex){if(!ex)return loadpkg(path.dirname(dir),cb2);readPackage(readFile,pkgfile,function(err3,pkgParam){if(err3)cb2(err3);var pkg=pkgParam;if(pkg&&opts.packageFilter){pkg=opts.packageFilter(pkg,pkgfile)}cb2(null,pkg,dir)})})})}__name(loadpkg,\"loadpkg\");function loadAsDirectory(x2,loadAsDirectoryPackage,callback2){var cb2=callback2;var fpkg=loadAsDirectoryPackage;if(typeof fpkg===\"function\"){cb2=fpkg;fpkg=opts.package}maybeRealpath(realpath2,x2,opts,function(unwrapErr,pkgdir){if(unwrapErr)return cb2(unwrapErr);var pkgfile=path.join(pkgdir,\"package.json\");isFile2(pkgfile,function(err2,ex){if(err2)return cb2(err2);if(!ex)return loadAsFile(path.join(x2,\"index\"),fpkg,cb2);readPackage(readFile,pkgfile,function(err3,pkgParam){if(err3)return cb2(err3);var pkg=pkgParam;if(pkg&&opts.packageFilter){pkg=opts.packageFilter(pkg,pkgfile)}if(pkg&&pkg.main){if(typeof pkg.main!==\"string\"){var mainError=new TypeError(\"package \\u201C\"+pkg.name+\"\\u201D `main` must be a string\");mainError.code=\"INVALID_PACKAGE_MAIN\";return cb2(mainError)}if(pkg.main===\".\"||pkg.main===\"./\"){pkg.main=\"index\"}loadAsFile(path.resolve(x2,pkg.main),pkg,function(err4,m,pkg2){if(err4)return cb2(err4);if(m)return cb2(null,m,pkg2);if(!pkg2)return loadAsFile(path.join(x2,\"index\"),pkg2,cb2);var dir=path.resolve(x2,pkg2.main);loadAsDirectory(dir,pkg2,function(err5,n,pkg3){if(err5)return cb2(err5);if(n)return cb2(null,n,pkg3);loadAsFile(path.join(x2,\"index\"),pkg3,cb2)})});return}loadAsFile(path.join(x2,\"/index\"),pkg,cb2)})})})}__name(loadAsDirectory,\"loadAsDirectory\");function processDirs(cb2,dirs){if(dirs.length===0)return cb2(null,void 0);var dir=dirs[0];isDirectory2(path.dirname(dir),isdir);function isdir(err2,isdir2){if(err2)return cb2(err2);if(!isdir2)return processDirs(cb2,dirs.slice(1));loadAsFile(dir,opts.package,onfile2)}__name(isdir,\"isdir\");function onfile2(err2,m,pkg){if(err2)return cb2(err2);if(m)return cb2(null,m,pkg);loadAsDirectory(dir,opts.package,ondir)}__name(onfile2,\"onfile\");function ondir(err2,n,pkg){if(err2)return cb2(err2);if(n)return cb2(null,n,pkg);processDirs(cb2,dirs.slice(1))}__name(ondir,\"ondir\")}__name(processDirs,\"processDirs\");function loadNodeModules(x2,start,cb2){var thunk=__name(function(){return getPackageCandidates(x2,start,opts)},\"thunk\");processDirs(cb2,packageIterator?packageIterator(x2,start,thunk,opts):thunk())}__name(loadNodeModules,\"loadNodeModules\")},\"resolve\");\n})()\n","warnings":[],"map":{"version":3,"mappings":"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","names":["maybeRealpath","realpath","defaultReadPackage","getPackageCandidates","isFile","isDirectory","err","basedir","pkg","x","callback","cb","exts","isdir","onfile"],"sources":["/root/projects/zachw-i/packages/plugin/node_modules/.pnpm/resolve@1.22.2/node_modules/resolve/lib/async.js"],"sourcesContent":["var fs = require('fs');\nvar getHomedir = require('./homedir');\nvar path = require('path');\nvar caller = require('./caller');\nvar nodeModulesPaths = require('./node-modules-paths');\nvar normalizeOptions = require('./normalize-options');\nvar isCore = require('is-core-module');\n\nvar realpathFS = process.platform !== 'win32' && fs.realpath && typeof fs.realpath.native === 'function' ? fs.realpath.native : fs.realpath;\n\nvar homedir = getHomedir();\nvar defaultPaths = function () {\n    return [\n        path.join(homedir, '.node_modules'),\n        path.join(homedir, '.node_libraries')\n    ];\n};\n\nvar defaultIsFile = function isFile(file, cb) {\n    fs.stat(file, function (err, stat) {\n        if (!err) {\n            return cb(null, stat.isFile() || stat.isFIFO());\n        }\n        if (err.code === 'ENOENT' || err.code === 'ENOTDIR') return cb(null, false);\n        return cb(err);\n    });\n};\n\nvar defaultIsDir = function isDirectory(dir, cb) {\n    fs.stat(dir, function (err, stat) {\n        if (!err) {\n            return cb(null, stat.isDirectory());\n        }\n        if (err.code === 'ENOENT' || err.code === 'ENOTDIR') return cb(null, false);\n        return cb(err);\n    });\n};\n\nvar defaultRealpath = function realpath(x, cb) {\n    realpathFS(x, function (realpathErr, realPath) {\n        if (realpathErr && realpathErr.code !== 'ENOENT') cb(realpathErr);\n        else cb(null, realpathErr ? x : realPath);\n    });\n};\n\nvar maybeRealpath = function maybeRealpath(realpath, x, opts, cb) {\n    if (opts && opts.preserveSymlinks === false) {\n        realpath(x, cb);\n    } else {\n        cb(null, x);\n    }\n};\n\nvar defaultReadPackage = function defaultReadPackage(readFile, pkgfile, cb) {\n    readFile(pkgfile, function (readFileErr, body) {\n        if (readFileErr) cb(readFileErr);\n        else {\n            try {\n                var pkg = JSON.parse(body);\n                cb(null, pkg);\n            } catch (jsonErr) {\n                cb(null);\n            }\n        }\n    });\n};\n\nvar getPackageCandidates = function getPackageCandidates(x, start, opts) {\n    var dirs = nodeModulesPaths(start, opts, x);\n    for (var i = 0; i < dirs.length; i++) {\n        dirs[i] = path.join(dirs[i], x);\n    }\n    return dirs;\n};\n\nmodule.exports = function resolve(x, options, callback) {\n    var cb = callback;\n    var opts = options;\n    if (typeof options === 'function') {\n        cb = opts;\n        opts = {};\n    }\n    if (typeof x !== 'string') {\n        var err = new TypeError('Path must be a string.');\n        return process.nextTick(function () {\n            cb(err);\n        });\n    }\n\n    opts = normalizeOptions(x, opts);\n\n    var isFile = opts.isFile || defaultIsFile;\n    var isDirectory = opts.isDirectory || defaultIsDir;\n    var readFile = opts.readFile || fs.readFile;\n    var realpath = opts.realpath || defaultRealpath;\n    var readPackage = opts.readPackage || defaultReadPackage;\n    if (opts.readFile && opts.readPackage) {\n        var conflictErr = new TypeError('`readFile` and `readPackage` are mutually exclusive.');\n        return process.nextTick(function () {\n            cb(conflictErr);\n        });\n    }\n    var packageIterator = opts.packageIterator;\n\n    var extensions = opts.extensions || ['.js'];\n    var includeCoreModules = opts.includeCoreModules !== false;\n    var basedir = opts.basedir || path.dirname(caller());\n    var parent = opts.filename || basedir;\n\n    opts.paths = opts.paths || defaultPaths();\n\n    // ensure that `basedir` is an absolute path at this point, resolving against the process' current working directory\n    var absoluteStart = path.resolve(basedir);\n\n    maybeRealpath(\n        realpath,\n        absoluteStart,\n        opts,\n        function (err, realStart) {\n            if (err) cb(err);\n            else init(realStart);\n        }\n    );\n\n    var res;\n    function init(basedir) {\n        if ((/^(?:\\.\\.?(?:\\/|$)|\\/|([A-Za-z]:)?[/\\\\])/).test(x)) {\n            res = path.resolve(basedir, x);\n            if (x === '.' || x === '..' || x.slice(-1) === '/') res += '/';\n            if ((/\\/$/).test(x) && res === basedir) {\n                loadAsDirectory(res, opts.package, onfile);\n            } else loadAsFile(res, opts.package, onfile);\n        } else if (includeCoreModules && isCore(x)) {\n            return cb(null, x);\n        } else loadNodeModules(x, basedir, function (err, n, pkg) {\n            if (err) cb(err);\n            else if (n) {\n                return maybeRealpath(realpath, n, opts, function (err, realN) {\n                    if (err) {\n                        cb(err);\n                    } else {\n                        cb(null, realN, pkg);\n                    }\n                });\n            } else {\n                var moduleError = new Error(\"Cannot find module '\" + x + \"' from '\" + parent + \"'\");\n                moduleError.code = 'MODULE_NOT_FOUND';\n                cb(moduleError);\n            }\n        });\n    }\n\n    function onfile(err, m, pkg) {\n        if (err) cb(err);\n        else if (m) cb(null, m, pkg);\n        else loadAsDirectory(res, function (err, d, pkg) {\n            if (err) cb(err);\n            else if (d) {\n                maybeRealpath(realpath, d, opts, function (err, realD) {\n                    if (err) {\n                        cb(err);\n                    } else {\n                        cb(null, realD, pkg);\n                    }\n                });\n            } else {\n                var moduleError = new Error(\"Cannot find module '\" + x + \"' from '\" + parent + \"'\");\n                moduleError.code = 'MODULE_NOT_FOUND';\n                cb(moduleError);\n            }\n        });\n    }\n\n    function loadAsFile(x, thePackage, callback) {\n        var loadAsFilePackage = thePackage;\n        var cb = callback;\n        if (typeof loadAsFilePackage === 'function') {\n            cb = loadAsFilePackage;\n            loadAsFilePackage = undefined;\n        }\n\n        var exts = [''].concat(extensions);\n        load(exts, x, loadAsFilePackage);\n\n        function load(exts, x, loadPackage) {\n            if (exts.length === 0) return cb(null, undefined, loadPackage);\n            var file = x + exts[0];\n\n            var pkg = loadPackage;\n            if (pkg) onpkg(null, pkg);\n            else loadpkg(path.dirname(file), onpkg);\n\n            function onpkg(err, pkg_, dir) {\n                pkg = pkg_;\n                if (err) return cb(err);\n                if (dir && pkg && opts.pathFilter) {\n                    var rfile = path.relative(dir, file);\n                    var rel = rfile.slice(0, rfile.length - exts[0].length);\n                    var r = opts.pathFilter(pkg, x, rel);\n                    if (r) return load(\n                        [''].concat(extensions.slice()),\n                        path.resolve(dir, r),\n                        pkg\n                    );\n                }\n                isFile(file, onex);\n            }\n            function onex(err, ex) {\n                if (err) return cb(err);\n                if (ex) return cb(null, file, pkg);\n                load(exts.slice(1), x, pkg);\n            }\n        }\n    }\n\n    function loadpkg(dir, cb) {\n        if (dir === '' || dir === '/') return cb(null);\n        if (process.platform === 'win32' && (/^\\w:[/\\\\]*$/).test(dir)) {\n            return cb(null);\n        }\n        if ((/[/\\\\]node_modules[/\\\\]*$/).test(dir)) return cb(null);\n\n        maybeRealpath(realpath, dir, opts, function (unwrapErr, pkgdir) {\n            if (unwrapErr) return loadpkg(path.dirname(dir), cb);\n            var pkgfile = path.join(pkgdir, 'package.json');\n            isFile(pkgfile, function (err, ex) {\n                // on err, ex is false\n                if (!ex) return loadpkg(path.dirname(dir), cb);\n\n                readPackage(readFile, pkgfile, function (err, pkgParam) {\n                    if (err) cb(err);\n\n                    var pkg = pkgParam;\n\n                    if (pkg && opts.packageFilter) {\n                        pkg = opts.packageFilter(pkg, pkgfile);\n                    }\n                    cb(null, pkg, dir);\n                });\n            });\n        });\n    }\n\n    function loadAsDirectory(x, loadAsDirectoryPackage, callback) {\n        var cb = callback;\n        var fpkg = loadAsDirectoryPackage;\n        if (typeof fpkg === 'function') {\n            cb = fpkg;\n            fpkg = opts.package;\n        }\n\n        maybeRealpath(realpath, x, opts, function (unwrapErr, pkgdir) {\n            if (unwrapErr) return cb(unwrapErr);\n            var pkgfile = path.join(pkgdir, 'package.json');\n            isFile(pkgfile, function (err, ex) {\n                if (err) return cb(err);\n                if (!ex) return loadAsFile(path.join(x, 'index'), fpkg, cb);\n\n                readPackage(readFile, pkgfile, function (err, pkgParam) {\n                    if (err) return cb(err);\n\n                    var pkg = pkgParam;\n\n                    if (pkg && opts.packageFilter) {\n                        pkg = opts.packageFilter(pkg, pkgfile);\n                    }\n\n                    if (pkg && pkg.main) {\n                        if (typeof pkg.main !== 'string') {\n                            var mainError = new TypeError('package “' + pkg.name + '” `main` must be a string');\n                            mainError.code = 'INVALID_PACKAGE_MAIN';\n                            return cb(mainError);\n                        }\n                        if (pkg.main === '.' || pkg.main === './') {\n                            pkg.main = 'index';\n                        }\n                        loadAsFile(path.resolve(x, pkg.main), pkg, function (err, m, pkg) {\n                            if (err) return cb(err);\n                            if (m) return cb(null, m, pkg);\n                            if (!pkg) return loadAsFile(path.join(x, 'index'), pkg, cb);\n\n                            var dir = path.resolve(x, pkg.main);\n                            loadAsDirectory(dir, pkg, function (err, n, pkg) {\n                                if (err) return cb(err);\n                                if (n) return cb(null, n, pkg);\n                                loadAsFile(path.join(x, 'index'), pkg, cb);\n                            });\n                        });\n                        return;\n                    }\n\n                    loadAsFile(path.join(x, '/index'), pkg, cb);\n                });\n            });\n        });\n    }\n\n    function processDirs(cb, dirs) {\n        if (dirs.length === 0) return cb(null, undefined);\n        var dir = dirs[0];\n\n        isDirectory(path.dirname(dir), isdir);\n\n        function isdir(err, isdir) {\n            if (err) return cb(err);\n            if (!isdir) return processDirs(cb, dirs.slice(1));\n            loadAsFile(dir, opts.package, onfile);\n        }\n\n        function onfile(err, m, pkg) {\n            if (err) return cb(err);\n            if (m) return cb(null, m, pkg);\n            loadAsDirectory(dir, opts.package, ondir);\n        }\n\n        function ondir(err, n, pkg) {\n            if (err) return cb(err);\n            if (n) return cb(null, n, pkg);\n            processDirs(cb, dirs.slice(1));\n        }\n    }\n    function loadNodeModules(x, start, cb) {\n        var thunk = function () { return getPackageCandidates(x, start, opts); };\n        processDirs(\n            cb,\n            packageIterator ? packageIterator(x, start, thunk, opts) : thunk()\n        );\n    }\n};\n"]}}