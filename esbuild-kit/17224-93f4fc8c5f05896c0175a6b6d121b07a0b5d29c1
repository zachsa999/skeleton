{"code":"(()=>{\n\"use strict\";var __defProp=Object.defineProperty;var __name=(target,value)=>__defProp(target,\"name\",{value,configurable:true});Object.defineProperty(exports,\"__esModule\",{value:true});const stream_1=require(\"stream\");const async_1=require(\"../readers/async\");class StreamProvider{constructor(_root,_settings){this._root=_root;this._settings=_settings;this._reader=new async_1.default(this._root,this._settings);this._stream=new stream_1.Readable({objectMode:true,read:()=>{},destroy:()=>{if(!this._reader.isDestroyed){this._reader.destroy()}}})}read(){this._reader.onError(error=>{this._stream.emit(\"error\",error)});this._reader.onEntry(entry=>{this._stream.push(entry)});this._reader.onEnd(()=>{this._stream.push(null)});this._reader.read();return this._stream}}__name(StreamProvider,\"StreamProvider\");exports.default=StreamProvider;\n})()\n","warnings":[],"map":{"version":3,"mappings":";+HACA,OAAO,eAAe,QAAS,aAAc,CAAE,MAAO,IAAK,CAAC,EAC5D,MAAM,SAAW,QAAQ,QAAQ,EACjC,MAAM,QAAU,QAAQ,kBAAkB,EAC1C,MAAM,cAAe,CACjB,YAAY,MAAO,UAAW,CAC1B,KAAK,MAAQ,MACb,KAAK,UAAY,UACjB,KAAK,QAAU,IAAI,QAAQ,QAAQ,KAAK,MAAO,KAAK,SAAS,EAC7D,KAAK,QAAU,IAAI,SAAS,SAAS,CACjC,WAAY,KACZ,KAAM,IAAM,CAAE,EACd,QAAS,IAAM,CACX,GAAI,CAAC,KAAK,QAAQ,YAAa,CAC3B,KAAK,QAAQ,QAAQ,CACzB,CACJ,CACJ,CAAC,CACL,CACA,MAAO,CACH,KAAK,QAAQ,QAAS,OAAU,CAC5B,KAAK,QAAQ,KAAK,QAAS,KAAK,CACpC,CAAC,EACD,KAAK,QAAQ,QAAS,OAAU,CAC5B,KAAK,QAAQ,KAAK,KAAK,CAC3B,CAAC,EACD,KAAK,QAAQ,MAAM,IAAM,CACrB,KAAK,QAAQ,KAAK,IAAI,CAC1B,CAAC,EACD,KAAK,QAAQ,KAAK,EAClB,OAAO,KAAK,OAChB,CACJ,CA5BM,wCA6BN,QAAQ,QAAU","names":[],"sources":["/root/projects/zachw-i/packages/plugin/node_modules/.pnpm/@nodelib+fs.walk@1.2.8/node_modules/@nodelib/fs.walk/out/providers/stream.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst stream_1 = require(\"stream\");\nconst async_1 = require(\"../readers/async\");\nclass StreamProvider {\n    constructor(_root, _settings) {\n        this._root = _root;\n        this._settings = _settings;\n        this._reader = new async_1.default(this._root, this._settings);\n        this._stream = new stream_1.Readable({\n            objectMode: true,\n            read: () => { },\n            destroy: () => {\n                if (!this._reader.isDestroyed) {\n                    this._reader.destroy();\n                }\n            }\n        });\n    }\n    read() {\n        this._reader.onError((error) => {\n            this._stream.emit('error', error);\n        });\n        this._reader.onEntry((entry) => {\n            this._stream.push(entry);\n        });\n        this._reader.onEnd(() => {\n            this._stream.push(null);\n        });\n        this._reader.read();\n        return this._stream;\n    }\n}\nexports.default = StreamProvider;\n"]}}