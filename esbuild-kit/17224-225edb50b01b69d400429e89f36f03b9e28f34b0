{"code":"(()=>{\n\"use strict\";var __defProp=Object.defineProperty;var __name=(target,value)=>__defProp(target,\"name\",{value,configurable:true});var __extends=exports&&exports.__extends||function(){var extendStatics=__name(function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)if(b2.hasOwnProperty(p))d2[p]=b2[p]};return extendStatics(d,b)},\"extendStatics\");return function(d,b){extendStatics(d,b);function __(){this.constructor=d}__name(__,\"__\");d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,\"__esModule\",{value:true});exports.DetailContext=exports.NoopContext=exports.VError=void 0;var VError=function(_super){__extends(VError2,_super);function VError2(path,message){var _this=_super.call(this,message)||this;_this.path=path;Object.setPrototypeOf(_this,VError2.prototype);return _this}__name(VError2,\"VError\");return VError2}(Error);exports.VError=VError;var NoopContext=function(){function NoopContext2(){}__name(NoopContext2,\"NoopContext\");NoopContext2.prototype.fail=function(relPath,message,score){return false};NoopContext2.prototype.unionResolver=function(){return this};NoopContext2.prototype.createContext=function(){return this};NoopContext2.prototype.resolveUnion=function(ur){};return NoopContext2}();exports.NoopContext=NoopContext;var DetailContext=function(){function DetailContext2(){this._propNames=[\"\"];this._messages=[null];this._score=0}__name(DetailContext2,\"DetailContext\");DetailContext2.prototype.fail=function(relPath,message,score){this._propNames.push(relPath);this._messages.push(message);this._score+=score;return false};DetailContext2.prototype.unionResolver=function(){return new DetailUnionResolver};DetailContext2.prototype.resolveUnion=function(unionResolver){var _a,_b;var u=unionResolver;var best=null;for(var _i=0,_c=u.contexts;_i<_c.length;_i++){var ctx=_c[_i];if(!best||ctx._score>=best._score){best=ctx}}if(best&&best._score>0){(_a=this._propNames).push.apply(_a,best._propNames);(_b=this._messages).push.apply(_b,best._messages)}};DetailContext2.prototype.getError=function(path){var msgParts=[];for(var i=this._propNames.length-1;i>=0;i--){var p=this._propNames[i];path+=typeof p===\"number\"?\"[\"+p+\"]\":p?\".\"+p:\"\";var m=this._messages[i];if(m){msgParts.push(path+\" \"+m)}}return new VError(path,msgParts.join(\"; \"))};DetailContext2.prototype.getErrorDetail=function(path){var details=[];for(var i=this._propNames.length-1;i>=0;i--){var p=this._propNames[i];path+=typeof p===\"number\"?\"[\"+p+\"]\":p?\".\"+p:\"\";var message=this._messages[i];if(message){details.push({path,message})}}var detail=null;for(var i=details.length-1;i>=0;i--){if(detail){details[i].nested=[detail]}detail=details[i]}return detail};return DetailContext2}();exports.DetailContext=DetailContext;var DetailUnionResolver=function(){function DetailUnionResolver2(){this.contexts=[]}__name(DetailUnionResolver2,\"DetailUnionResolver\");DetailUnionResolver2.prototype.createContext=function(){var ctx=new DetailContext;this.contexts.push(ctx);return ctx};return DetailUnionResolver2}();\n})()\n","warnings":[],"map":{"version":3,"mappings":"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","names":["d","b","VError","NoopContext","DetailContext","DetailUnionResolver"],"sources":["/root/projects/zachw-i/packages/plugin/node_modules/.pnpm/ts-interface-checker@0.1.13/node_modules/ts-interface-checker/dist/util.js"],"sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DetailContext = exports.NoopContext = exports.VError = void 0;\n/**\n * Error thrown by validation. Besides an informative message, it includes the path to the\n * property which triggered the failure.\n */\nvar VError = /** @class */ (function (_super) {\n    __extends(VError, _super);\n    function VError(path, message) {\n        var _this = _super.call(this, message) || this;\n        _this.path = path;\n        // See https://github.com/Microsoft/TypeScript/wiki/Breaking-Changes#extending-built-ins-like-error-array-and-map-may-no-longer-work for info about this workaround.\n        Object.setPrototypeOf(_this, VError.prototype);\n        return _this;\n    }\n    return VError;\n}(Error));\nexports.VError = VError;\n/**\n * Fast implementation of IContext used for first-pass validation. If that fails, we can validate\n * using DetailContext to collect error messages. That's faster for the common case when messages\n * normally pass validation.\n */\nvar NoopContext = /** @class */ (function () {\n    function NoopContext() {\n    }\n    NoopContext.prototype.fail = function (relPath, message, score) {\n        return false;\n    };\n    NoopContext.prototype.unionResolver = function () { return this; };\n    NoopContext.prototype.createContext = function () { return this; };\n    NoopContext.prototype.resolveUnion = function (ur) { };\n    return NoopContext;\n}());\nexports.NoopContext = NoopContext;\n/**\n * Complete implementation of IContext that collects meaningfull errors.\n */\nvar DetailContext = /** @class */ (function () {\n    function DetailContext() {\n        // Stack of property names and associated messages for reporting helpful error messages.\n        this._propNames = [\"\"];\n        this._messages = [null];\n        // Score is used to choose the best union member whose DetailContext to use for reporting.\n        // Higher score means better match (or rather less severe mismatch).\n        this._score = 0;\n    }\n    DetailContext.prototype.fail = function (relPath, message, score) {\n        this._propNames.push(relPath);\n        this._messages.push(message);\n        this._score += score;\n        return false;\n    };\n    DetailContext.prototype.unionResolver = function () {\n        return new DetailUnionResolver();\n    };\n    DetailContext.prototype.resolveUnion = function (unionResolver) {\n        var _a, _b;\n        var u = unionResolver;\n        var best = null;\n        for (var _i = 0, _c = u.contexts; _i < _c.length; _i++) {\n            var ctx = _c[_i];\n            if (!best || ctx._score >= best._score) {\n                best = ctx;\n            }\n        }\n        if (best && best._score > 0) {\n            (_a = this._propNames).push.apply(_a, best._propNames);\n            (_b = this._messages).push.apply(_b, best._messages);\n        }\n    };\n    DetailContext.prototype.getError = function (path) {\n        var msgParts = [];\n        for (var i = this._propNames.length - 1; i >= 0; i--) {\n            var p = this._propNames[i];\n            path += (typeof p === \"number\") ? \"[\" + p + \"]\" : (p ? \".\" + p : \"\");\n            var m = this._messages[i];\n            if (m) {\n                msgParts.push(path + \" \" + m);\n            }\n        }\n        return new VError(path, msgParts.join(\"; \"));\n    };\n    DetailContext.prototype.getErrorDetail = function (path) {\n        var details = [];\n        for (var i = this._propNames.length - 1; i >= 0; i--) {\n            var p = this._propNames[i];\n            path += (typeof p === \"number\") ? \"[\" + p + \"]\" : (p ? \".\" + p : \"\");\n            var message = this._messages[i];\n            if (message) {\n                details.push({ path: path, message: message });\n            }\n        }\n        var detail = null;\n        for (var i = details.length - 1; i >= 0; i--) {\n            if (detail) {\n                details[i].nested = [detail];\n            }\n            detail = details[i];\n        }\n        return detail;\n    };\n    return DetailContext;\n}());\nexports.DetailContext = DetailContext;\nvar DetailUnionResolver = /** @class */ (function () {\n    function DetailUnionResolver() {\n        this.contexts = [];\n    }\n    DetailUnionResolver.prototype.createContext = function () {\n        var ctx = new DetailContext();\n        this.contexts.push(ctx);\n        return ctx;\n    };\n    return DetailUnionResolver;\n}());\n"]}}